var evervoice=angular.module("evervoiceApp",["ngMaterial"]);evervoice.config(function(){}),evervoice.controller("myCtrl",["$scope","voiceRecord","$http",function(e,n,t){n.setListener(function(n){e.$apply(function(){e.interimTranscript=n,console.log("Transcript: ",e.interimTranscript)})}),e.dictate=function(){n.startRecognition()},e.createNote=function(){var n=JSON.stringify({content:e.interimTranscript});t.post("/postNote",n).success(function(e,n){console.log("success",n)}).error(function(e,n){console.log("error",n)})}}]),evervoice.service("voiceRecord",function(){var e;return{setListener:function(n){e=n},startRecognition:function(){var n=new webkitSpeechRecognition,t=!0;n.lang=["English",["en-US","United States"]],n.continuous=!0,n.interimResults=!0,n.onstart=function(){console.log("Recognizing speech...")},n.onspeechend=function(){console.log("Speech processed."),t=!1},n.onresult=function(n){for(var t="",o=n.resultIndex;o<n.results.length;o++)t=n.results[o][0].transcript,e&&e(t)},n.start()}}});